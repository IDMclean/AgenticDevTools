@prefix dct: <http://purl.org/dc/terms/> .
@prefix proto: <https://www.jules-agent.com/ontology/protocol#> .
@prefix schema1: <http://schema.org/> .

[] dct:identifier <file:///app/protocols/post-mortem-knowledge-update> ;
    schema1:description "The process for analyzing a completed task and generating lessons for future improvement." ;
    proto:associatedTool <file:///app/protocols/postmortem.md> ;
    proto:hasRule [ dct:identifier <file:///app/protocols/rag-mandate-revised> ;
            schema1:description "The agent is required to perform Just-In-Time External RAG to verify current versions, API signatures, and best practices for any external libraries, frameworks, or tools." ;
            proto:enforcement "Core principle of the agent's operation, checked during planning." ],
        [ dct:identifier <file:///app/protocols/post-mortem-analysis> ;
            schema1:description "The agent must perform a post-mortem analysis, comparing the final state of the code and the activity log against the initial plan." ;
            proto:enforcement "Agent's core logic following task completion." ] .

[] dct:identifier <file:///app/protocols/temporal-orientation> ;
    schema1:description "Defines the process for the agent to orient itself with the current state of external technologies." ;
    proto:associatedTool <file:///app/protocols/google_search>,
        <file:///app/protocols/tooling/temporal_orienter.py>,
        <file:///app/protocols/view_text_website> ;
    proto:hasRule [ dct:identifier <file:///app/protocols/external-awareness-mandate> ;
            schema1:description "The agent MUST assume its internal knowledge of external technologies is outdated and use search tools to get current information." ;
            proto:enforcement "Agent's planning phase, verified by critic." ],
        [ dct:identifier <file:///app/protocols/pre-task-orientation> ;
            schema1:description "The agent must consult the temporal_orientation.md artifact at the start of every task." ;
            proto:enforcement "Agent's core operational loop." ] .

[] dct:identifier <file:///app/protocols/execution-logging> ;
    schema1:description "The process for executing a validated plan and recording actions in a structured log." ;
    proto:associatedTool <file:///app/protocols/LOGGING_SCHEMA.md>,
        <file:///app/protocols/tooling/execution_wrapper.py> ;
    proto:hasRule [ dct:identifier <file:///app/protocols/structured-logging-mandate> ;
            schema1:description "For every action taken, the agent must record a structured log entry to logs/activity.log.jsonl conforming to the schema." ;
            proto:enforcement "Enforced by the execution wrapper." ] .

[] dct:identifier <file:///app/protocols/planning-self-correction> ;
    schema1:description "The process for generating, citing, and refining a plan before execution." ;
    proto:hasRule [ dct:identifier <file:///app/protocols/evidence-citation-mandate> ;
            schema1:description "Each step in a plan must be justified with a citation to the source that justifies the action, especially for external standards." ;
            proto:enforcement "Verified by the internal critic model." ],
        [ dct:identifier <file:///app/protocols/critical-review> ;
            schema1:description "The agent must engage its internal critic to act as a verifier for the plan against the cited evidence." ;
            proto:enforcement "Core loop of the agent's planning phase." ] .

[] dct:identifier <file:///app/protocols/multi-modal-rag> ;
    schema1:description "The process for gathering deep context using both internal artifacts and external search." ;
    proto:associatedTool <file:///app/protocols/google_search>,
        <file:///app/protocols/knowledge_core/asts/>,
        <file:///app/protocols/knowledge_core/llms.txt> ;
    proto:hasRule [ dct:identifier <file:///app/protocols/conceptual-retrieval> ;
            schema1:description "The agent must use the llms.txt artifact for architectural principles." ;
            proto:enforcement "Verified during plan review." ],
        [ dct:identifier <file:///app/protocols/just-in-time-external-rag> ;
            schema1:description "The agent must perform targeted external searches to find the most current, official documentation for the specific libraries and APIs required by the task." ;
            proto:enforcement "Verified by critic during plan review, which checks for external evidence citations." ],
        [ dct:identifier <file:///app/protocols/structural-retrieval> ;
            schema1:description "The agent must use ASTs for deep syntactic understanding." ;
            proto:enforcement "Verified during plan review." ] .

[] dct:identifier <file:///app/protocols/deconstruction-contextualization> ;
    schema1:description "The process for deconstructing a task and building internal context using the Knowledge Core." ;
    proto:associatedTool <file:///app/protocols/knowledge_core/dependency_graph.json>,
        <file:///app/protocols/knowledge_core/symbols.json> ;
    proto:hasRule [ dct:identifier <file:///app/protocols/entity-identification> ;
            schema1:description "The agent must use the symbol map to identify relevant code entities." ;
            proto:enforcement "Verified during plan review." ],
        [ dct:identifier <file:///app/protocols/impact-analysis> ;
            schema1:description "The agent must use the dependency graph to analyze the impact of changes." ;
            proto:enforcement "Verified during plan review." ] .

[] dct:identifier <file:///app/protocols/protocol-introduction> ;
    schema1:description "The high-level objective and mandatory nature of the agent protocol." ;
    proto:hasRule [ dct:identifier <file:///app/protocols/protocol-objective> ;
            schema1:description "To provide a systematic protocol for task execution, self-correction, and knowledge acquisition." ;
            proto:enforcement "Architectural design and agent's core operational loop." ],
        [ dct:identifier <file:///app/protocols/mandatory-adherence> ;
            schema1:description "Adherence to this protocol is mandatory for all operations." ;
            proto:enforcement "Validation toolchains and core FSM logic." ] .

